<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="3e9218eb-8c80-4559-b8d7-f2199855b45e" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="POST-To-Add-and-Check-if-License-Of-the-Product-Has-Been-Added" searchProperties="true" xmlns:con="http://eviware.com/soapui/config"><con:settings><con:setting id="3e9218eb-8c80-4559-b8d7-f2199855b45efileName">POST-To-Add-and-Check-if-License-Of-the-Product-Has-Been-Added</con:setting></con:settings><con:testStep type="transfer" name="Property Transfer" id="7d46c5ae-68ce-48e4-9cff-2c1ef4022939"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>Transfer_EndPoint</con:name><con:sourceType>CWF.EndPoint</con:sourceType><con:sourceStep>#Project#</con:sourceStep><con:targetType>Endpoint</con:targetType><con:targetStep>Add_License_of_A_Product</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>Transfer_ProductID</con:name><con:sourceType>CWF.Add.ProductID.To.Add.License</con:sourceType><con:sourceStep>#Project#</con:sourceStep><con:targetType>PRODUCTID</con:targetType><con:targetStep>Add_License_of_A_Product</con:targetStep><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>Transfer_Endpoint</con:name><con:sourceType>CWF.EndPoint</con:sourceType><con:sourceStep>#Project#</con:sourceStep><con:targetType>Endpoint</con:targetType><con:targetStep>To_check_if_License_has_been_Added</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Add_License_of_A_Product" id="33540f13-4e77-4473-a776-6b3a58e1ebf7"><con:settings/><con:config service="Dashboardv3" resourcePath="/IderaCoreServices/v1/Products/{PRODUCTID}/Licenses" methodName="AddLicenseOfProduct" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Add_License_of_A_Product" id="4863db45-1f85-41b1-aee4-e2204eff4a24" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="${#Project#CWF.Authorization}"/>
  &lt;con:entry key="Content-Type" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>aut-sqlbi-118:9292</con:endpoint><con:request>{
	"KeyString":"${#Project#BI.Add.License.KeyString}",
	"LicensedServers":${#Project#BI.Add.LicensedServers},
	"MonitoredServers":${#Project#BI.Add.MonitoredServers},
	"ProductId":${#Project#BI.Add.ProductID},
	"Comments":"${#Project#BI.Add.License.Comments}",
	"RestURL":"${#Project#BI.Add.License.RestURL}",
	"WebURL":"${#Project#BI.Add.License.WebURL}"
}</con:request><con:originalUri>http://aut-sqlbi-118/IderaCoreServices/v1/Products/2/Licenses</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="2a336688-9305-4e6e-9257-3b3bf7ce408f" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username>simpsons\administrator</con:username><con:password>control*88</con:password><con:domain>REDHOUSE</con:domain><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="dryRun" value="True"/>
  <con:entry key="PRODUCTID" value="2"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="To_check_if_License_has_been_Added" id="a5b39fe3-b6a4-4167-a3c9-b3ea569a72f3"><con:settings/><con:config service="Dashboardv3" resourcePath="/IderaCoreServices/v1/Licenses" methodName="GetLicenses" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="To_check_if_License_has_been_Added" id="35752de5-3a85-44f5-bfd6-a8b1b3a74175" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="${#Project#CWF.Authorization}"/>
  &lt;con:entry key="Content-Type" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>aut-sqlbi-118:9292</con:endpoint><con:request/><con:originalUri>http://aut-sqlbi-118/IderaCoreServices/v1/Licenses</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="347e3842-3465-4fd7-9ec4-f90a414d214b" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="01ceecb5-fb1c-4910-9aac-b362dfa756d4" name="Contains"><con:configuration><token>(?s).*License.*</token><ignoreCase>true</ignoreCase><useRegEx>true</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="a26b6845-e8cd-4a10-a8f6-6505877e3d77" name="Not Contains"><con:configuration><token>Error</token><ignoreCase>true</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="96d45fa6-81ac-4d8e-9901-e2e14686333d" name="Contains 1"><con:configuration><token>(?s).*LicensedServers.*</token><ignoreCase>true</ignoreCase><useRegEx>true</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="463baa91-de78-4392-8218-cc9df2ebe83c" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper 
def response = messageExchange.response.responseContent
def slurper = new JsonSlurper()
def json = slurper.parseText response 
assert json.Id != null</scriptText></con:configuration></con:assertion><con:credentials><con:username>simpsons\administrator</con:username><con:password>control*88</con:password><con:domain>REDHOUSE</con:domain><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/><con:reportParameters/></con:testCase>